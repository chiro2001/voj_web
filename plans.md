##  Crosst 2.0 Unofficial Plans

### 现在缺少的

1. 项目定义？
2. 目标人群？
3. 项目特性？
4. 基础功能？
5. 功能特性？
6. 安全性？
7. 项目规范和开发经验
8. 技术可行性？

### 粗略增加计划

#### 目标人群

1. 学生群体
2. 工作的青年群体
3. 对网络**匿名**聊天有需求的人
4. 想要有新奇的聊天体验的人
5. 方便交流技术的人
6. 需要为博客提供服务：网页等地方嵌入网页聊天室

#### 项目特色

1. **多样性**

   项目的功能必须多样，才能满足不同的人的需求。聊天的人要好好聊天，发图的人好好发图，玩小游戏的人玩小游戏，不然没办法留住用户。

   计划的这部分功能在后文附出。

2. **可定制性**

   可定制性可以是Crosst区分于其他聊天工具的必要的特性，可自定义的部分是增加回头客的杀手锏。

   在我眼中Crosst的可定制性应当包含许多内容：

   1. 主题
      1. 颜色
      2. 聊天窗口样式
      3. 聊天气泡
   2. 机器人Bot
   3. 成员权限
   4. 代码
      1. 后端功能
      2. 前端代码
      3. 图床接口
      4. 文件接口
      5. ...

3. **匿名性**

   前端匿名后端实名，前端展现的信息可以自己编辑并且定义展示方式。

   对于非注册用户，可以限制加入的聊天室、发言类型、发言频率、发言功能。对于已经注册用户根据权限等级不断减小限制。

   后台所有数据必须保留。

   对于不当言论，需要引入特定聊天室进行处理。（类似小黑屋，不过不同的聊天室对应的小黑屋可能不同，处理人员也可以不同。）

4. **新奇性**

   不同于QQ/微信一类的大厂的即时通讯软件，在外观上可以（或者说需要）突出“由独立开发者开发”而体现出的新奇感。

   具体怎么做未定，可以参考后文列出的功能决定。

5. **Role Play**

   是说聊天室可以根据用户的需求让人更加有沉浸体验感，犹如一个角色扮演游戏。这需要高度可定制性的支持。

   比如：

   1. 可以把“解忧杂货店”作为聊天室名字，聊天背景变成一家杂货店，成员等级变成路人、常客、实习生、老板娘(?)等，专门作为倾诉心声，解决心结的地方。
   2. 可以把“ETO联络组织”作为聊天室名字，背景是3D的模型等。

6. **技术性**

   作为十字街开发沟通环境，应该有方便技术人员聊天的功能。同样可以依赖于可定制性。

#### 基础功能

指的是在即时通讯软件基本功能上的功能要求。

1. 网络切换问题：切换网络不能直接掉线，不能ws断掉就算掉线
2. 多聊天室消息接收问题：不能单独按照一个聊天室一个ws连接的方式连接
3. 媒体文件问题
   1. 需要有嵌入的图床/网络文件储存功能
   2. 需要有bgm/视频读取播放等聊天中媒体功能
4. 聊天记录问题
   1. 自身的聊天记录需要拥有完全的访问权限
   2. 对加入的聊天室的消息访问权限
      1. 默认应该可以全部访问
      2. 可以依据不同聊天室的不同管理来设置
5. 消息提醒问题：需要可自定义的消息提醒/接收类型，可选择性屏蔽某些种类消息，或者自定义屏蔽词
6. 留言提醒功能：离线状态下急事可以通过邮箱等途径发送上线提醒
7. 在线状态：指示当前网络/心情等状态

#### 功能特性

可选的特色功能

1. 小游戏功能

   开发者可以在后端提交模块代码，然后利用十字街设施制造小游戏。

   比如把前端弄成可控制的3D世界，通过3D对话框对话等。

2. 群资源功能

   文件、链接、代码、图片、视频、Bot消息，分类查找。

3. 兼容模式：只有文字聊天功能

4. 读取剪贴板直接粘贴图片

5. 聊天记录渲染图片

6. 聊天记录导入导出

7. 代码在线沙盒演示

8. 数学公式Wolfram在线计算

9. 主题一键切换

10. 聊天室合并与分离

    1. 用途：聊天中需要几个人再分开说但是同样需要其他人看到，则可以使用聊天室分离
    2. 分离之后显示窗口分离成为两个，成员都可以发送消息/接收消息
    3. 关闭/合并之后聊天室聊天记录合并，但是标记为分离的聊天室的信息

#### 安全性

需要防范的威胁以及对应应对措施

1. 程序恶意灌水
   1. 对于一段时间内突然发送大量数据的用户，按照用户数据、IP和设备进行屏蔽。
   2. 发送出来你的数据被识别为恶意数据将会被标记为恶意数据，折叠。
   3. 对账号进行惩罚
2. DNS污染攻击：...暂时不会有人那么闲。
3. DDOS攻击
   1. 检测到**大流量**数据连接，则调整至防御模式，仅允许一些用户登录使用。
   2. 对大量访问的API记录下并且发送报警邮件
4. 闪现骂人
   1. 对于不良用语，按照屏蔽词进行折叠，防止污染眼睛
   2. 记录设备ID。设备ID在客户端开发过程中必须提供。有编程能力的人应该不会无聊到进行这样的攻击。

#### 项目规范和开发经验

1. 程序运行日志问题
   1. 运行日志也是很重要的，需要永久保存
   2. 不一定保存在本地，可以保存到远程数据库
2. 数据库问题
   1. 必须了解各个数据库适用范围，不合适的地方用不合适的数据库只是自找麻烦
   2. 给我相信数据库的查找计算能力啊喂